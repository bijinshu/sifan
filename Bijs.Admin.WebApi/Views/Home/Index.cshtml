@{
    ViewBag.Title = "价格设置";
}
<div class="container" id="productInfo">
    <div class="row">
        <div class="col-md-12">
            <form class="form-horizontal" role="form" style="margin-top:10px;" action="/Home/UploadExcelFile" method="post" enctype="multipart/form-data">
                @*<div class="form-group">
                        <label for="ContactName" class="col-md-3 control-label hidden-xs hidden-sm">设置价格</label>
                        <div class="col-md-8">
                            <input v-model="ContactName" type="text" class="form-control"  placeholder="请选择模板文件">
                            <textarea v-model="price" class="form-control" rows="20">请输入价格 用空格分隔</textarea>
                        </div>
                    </div>*@
                <div class="form-group">
                    <label for="ContactName" class="col-md-3 control-label hidden-xs hidden-sm">上传文件</label>
                    <div class="col-md-8">
                        <input type="file" name="files" class="form-control" placeholder="请选择模板文件">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-8 col-md-offset-3">
                        <button class="btn btn-info pull-left" v-on:click.stop.prevent="refreshPrice"> 刷新价格</button>
                        <button class="btn btn-primary pull-right" type="submit">上传</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
        </div>
    </div>
</div>
<script>
    $(function () {
        new Vue({
            el: "#productInfo",
            data: {
                price: ""
            },
            methods: {
                refreshPrice: function () {
                    if (this.price) {
                        $.json('/Home/RefreshPrice', this.price, function (result) {
                            alert(result.Msg);
                        });
                    }
                },
                getPrice: function () {

                }
            },
            computed: {
                //isProductNameValid: function () {
                //    return (/^.{1,20}$/g).test(this.frm.Name);
                //},
                //isPriceValid: function () {
                //    return (/^\d+(.\d{1,4})?$/g).test(this.frm.Price) && this.frm.Price > 0;
                //},
                //isRemarkValid: function () {
                //    return (/^.{0,200}$/g).test(this.frm.Remark);
                //}
            },
            created: function () {
                //this.getData();
            }
        })
    })
</script>
